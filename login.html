<!DOCTYPE html>
<html style="font-size: 16px;" lang="es">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="">
    <meta name="description" content="">

    <title>Página 1</title>

    <link rel="stylesheet" href="nicepage.css" media="screen">
    <link rel="stylesheet" href="Página-1.css" media="screen">

    <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="nicepage.js" defer=""></script>

    <meta name="generator" content="Nicepage 7.11.4, nicepage.com">
    
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    <link id="u-page-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i">
    
    <script type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "Organization",
      "name": "Site1",
      "logo": "images/logoesen.png"}
    </script>

    <!-- Ejemplo correcto -->
    <script src="./auth.js"></script>
    <script src="./jquery.js"></script>
    <script src="./nicepage.js"></script>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Alternar entre login y registro
        document.getElementById('show-login').addEventListener('click', function() {
          document.getElementById('login-form').style.display = 'block';
          document.getElementById('register-form').style.display = 'none';
        });
        
        document.getElementById('show-register').addEventListener('click', function() {
          document.getElementById('login-form').style.display = 'none';
          document.getElementById('register-form').style.display = 'block';
        });

        // Manejar registro
        document.getElementById('register-form').addEventListener('submit', async function(event) {
          event.preventDefault();
          
          const username = document.getElementById('register-username').value;
          const password = document.getElementById('register-password').value;
          
          try {
            const response = await fetch('http://localhost:3000/auth/register', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify({ username, password }),
            });

            const data = await response.json();
            
            if (response.ok) {
              alert('Registro exitoso! Ahora puedes iniciar sesión');
              // Mostrar formulario de login
              document.getElementById('login-form').style.display = 'block';
              document.getElementById('register-form').style.display = 'none';
            } else {
              throw new Error(data.message || 'Error al registrar');
            }
          } catch (error) {
            alert('Error: ' + error.message);
            console.error('Error en registro:', error);
          }
        });

        // Manejar login (opcional)
        document.getElementById('login-form').addEventListener('submit', async function(event) {
          event.preventDefault();
          
          const username = document.getElementById('login-username').value;
          const password = document.getElementById('login-password').value;
          
          try {
            const response = await fetch('http://localhost:3000/auth/login', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify({ username, password }),
            });

            const data = await response.json();
            
            if (response.ok) {
              alert('Login exitoso! Token: ' + data.access_token);
              // Guardar token y redirigir
              localStorage.setItem('token', data.access_token);
              window.location.href = '/dashboard.html';
            } else {
              throw new Error(data.message || 'Credenciales inválidas');
            }
          } catch (error) {
            alert('Error: ' + error.message);
            console.error('Error en login:', error);
          }
        });
      });
    </script>

    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="Página 1">
    <meta property="og:description" content="">
    <meta property="og:type" content="website">
    <meta data-intl-tel-input-cdn-path="intlTelInput/">

  </head>

  <body data-path-to-root="./" data-include-products="true" class="u-body u-clearfix u-xl-mode" data-lang="es"><header class="u-clearfix u-header u-header" id="header"><div class="u-clearfix u-sheet u-valign-middle-lg u-valign-middle-md u-valign-middle-sm u-valign-middle-xs u-sheet-1">
        <a href="#" class="u-image u-logo u-image-1" data-image-width="1024" data-image-height="172">
          <img src="images/logoesen.png" class="u-logo-image u-logo-image-1">
        </a>
        <nav class="u-menu u-menu-one-level u-offcanvas u-menu-1" role="navigation" aria-label="Menu navigation">
          <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px;">
            <a class="u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-top-bottom-menu-spacing u-hamburger-link u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="#" tabindex="-1" aria-label="Open menu" aria-controls="999f">
              <svg class="u-svg-link" viewBox="0 0 24 24"><use xlink:href="#menu-hamburger"></use></svg>
              <svg class="u-svg-content" version="1.1" id="menu-hamburger" viewBox="0 0 16 16" x="0px" y="0px" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g><rect y="1" width="16" height="2"></rect><rect y="7" width="16" height="2"></rect><rect y="13" width="16" height="2"></rect></g></svg>
            </a>
          </div>
      </div>
    </header>

<section class="u-clearfix u-section-1" id="block-1">
  <div class="u-clearfix u-sheet u-sheet-1">
    <!-- Caja azul con bordes redondeados -->
      <div class="data-layout-selected u-clearfix u-expanded-width u-gutter-34 u-layout-wrap u-layout-wrap-1">
        <div class="u-layout">
          <div class="u-layout-row">
            <div class="u-align-center u-container-align-center u-container-style u-gradient u-layout-cell u-radius-50 u-size-30-lg u-size-30-xl u-size-60-md u-size-60-sm u-size-60-xs u-layout-cell-1">
              <div class="u-container-layout u-valign-middle-xs u-container-layout-1">
                <!--login_form-->
                <div class="custom-expanded u-form u-login-control u-form-1">
                  <!--login_form_inner-->

                  <!-- Botones para alternar -->
                  <div style="text-align: center; margin-bottom: 20px;">
                    <button id="show-login" type="button">Iniciar sesión</button>
                    <button id="show-register" type="button">Registrarse</button>
                  </div>

                  <!-- Formulario de Login -->
                  <form id="login-form" class="u-inner-form">
                    <div class="u-form-group u-form-name">
                      <label for="login-username" class="u-label u-text-body-alt-color">Username *</label>
                      <input type="text" id="login-username" class="u-input u-input-rectangle u-radius-50" required>
                    </div>
                    <div class="u-form-group u-form-password">
                      <label for="login-password" class="u-label u-text-body-alt-color">Password *</label>
                      <input type="password" id="login-password" class="u-input u-input-rectangle u-radius-50" required>
                    </div>
                    <div class="u-align-left u-form-group u-form-submit">
                      <button type="submit" class="u-btn u-btn-1">Acceso</button>
                    </div>
                  </form>

                  <!-- Formulario de Registro -->
                  <form id="register-form" class="u-inner-form" style="display: none;">
                    <div class="u-form-group u-form-name">
                      <label for="register-username" class="u-label u-text-body-alt-color">Username *</label>
                      <input type="text" id="register-username" class="u-input u-input-rectangle u-radius-50" required>
                    </div>
                    <div class="u-form-group u-form-password">
                      <label for="register-password" class="u-label u-text-body-alt-color">Password *</label>
                      <input type="password" id="register-password" class="u-input u-input-rectangle u-radius-50" required>
                    </div>
                    <div class="u-align-left u-form-group u-form-submit">
                      <button type="submit" class="u-btn u-btn-1">Crear cuenta</button>
                    </div>
                  </form>
                </div><!--/login_form-->
              </div>
            </div>
              <div class="u-align-right u-container-align-right u-container-style u-image u-layout-cell u-size-30-lg u-size-30-xl u-size-60-md u-size-60-sm u-size-60-xs u-image-1" style="background-image: url('images/C.jpg');">
              <div class="u-container-layout u-container-layout-2"></div>
            </div>
          </div>
        </div>
      </div>
    </div> <!-- fin caja azul -->
  </div>
</section>
    
    <footer class="u-align-center u-clearfix u-container-align-center u-footer u-palette-1-dark-2 u-footer" id="footer"><div class="u-clearfix u-sheet u-sheet-1">
        <p class="u-small-text u-text u-text-variant u-text-1">Escuela Superior de Economía y Negocios&nbsp;</p>
      </div>
    </footer>    
<style>


/* Contenedor visual estilo split (lado imagen + lado formulario) */
.u-layout-row {
  display: flex;
  flex-direction: row;
  min-height: 600px;
}

/* Lado izquierdo con imagen */
.u-image-1 {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  border-radius: 50px !important;
  overflow: hidden;          /* Recorta el contenido interno si es necesario */
  filter: brightness(0.8);
  display: flex;
  align-items: flex-end;
  justify-content: center;
  padding: 40px;
}



/* Títulos y etiquetas */
.u-text-1,
.u-label {
  color: #ffffff !important;
  font-family: 'Montserrat', sans-serif;
}

/* Inputs */
.u-input {
  color: white;
  border: 1px solid #3c5f93;
  padding: 10px 15px;
  font-size: 16px;
}

/* Botones */
#show-login,
#show-register,
.u-btn-1 {
  background-color: #5b8efb;
  color: white;
  font-weight: bold;
  border-radius: 8px;
  border: none;
}

#show-login:hover,
#show-register:hover,
.u-btn-1:hover {
  background-color: #3b6cd6;
}

/* Formulario */
.u-inner-form {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* Estilos para los botones de alternar */
#show-login, #show-register {
  padding: 8px 16px;
  margin: 0 5px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.3s ease;
}

/* Estilos para los formularios */
.u-inner-form {
  transition: all 0.3s ease;
}

.u-dialog-section-4 .u-dialog-1 {
  width: 570px;
  min-height: 578px;
  height: auto;
  box-shadow: 0px 0px 8px 0px rgba(0,0,0,0.2);
  margin: 60px auto;
}

.u-dialog-section-4 .u-container-layout-1 {
  padding: 34px 35px;
}

.u-dialog-section-4 .u-text-1 {
  font-weight: 700;
  margin: 0 165px 0 0;
}

.u-dialog-section-4 .u-products-1 {
  margin-top: 30px;
  margin-bottom: 0;
}

.u-dialog-section-4 .u-repeater-1 {
  grid-template-columns: repeat(1, 100%);
  min-height: 206px;
  --gap: 10px;
  grid-auto-columns: 100%;
}

.u-dialog-section-4 .u-container-layout-2 {
  padding: 0 0 30px;
}

.u-dialog-section-4 .u-text-2 {
  margin: 20px 0 0;
}

.u-dialog-section-4 .u-image-1 {
  width: 250px;
  height: 167px;
  margin: 10px 0 0;
}

.u-dialog-section-4 .u-product-quantity-1 {
  width: 125px;
  margin: 20px auto 0 0;
}

.u-dialog-section-4 .u-product-price-1 {
  margin: -34px 0 0 auto;
}

.u-dialog-section-4 .u-payment-services-1 {
  min-height: 250px;
  min-width: 50px;
  margin: 0;
}

.u-dialog-section-4 .u-container-layout-3 {
  padding: 20px 0 0;
}

.u-dialog-section-4 .u-container-layout-4 {
  padding: 20px 0 0;
}

.u-dialog-section-4 .u-btn-1 {
  width: 100%;
  margin: 0 auto;
}

.u-dialog-section-4 .u-icon-1 {
  width: 20px;
  height: 20px;
  left: auto;
  top: 36px;
  position: absolute;
  right: 35px;
  padding: 0;
}

@media (max-width: 1199px) {
  .u-dialog-section-4 .u-text-1 {
    margin-right: 165px;
  }

  .u-dialog-section-4 .u-repeater-1 {
    grid-template-columns: 100%;
    grid-gap: 10px;
  }

  .u-dialog-section-4 .u-payment-services-1 {
    margin-right: initial;
    margin-left: initial;
  }
}

@media (max-width: 991px) {
  .u-dialog-section-4 .u-container-layout-1 {
    padding: 30px;
  }

  .u-dialog-section-4 .u-container-layout-3 {
    padding-bottom: 0;
    padding-left: 0;
    padding-right: 0;
  }

  .u-dialog-section-4 .u-container-layout-4 {
    padding-bottom: 0;
    padding-left: 0;
    padding-right: 0;
  }

  .u-dialog-section-4 .u-icon-1 {
    top: 32px;
    right: 30px;
  }
}

@media (max-width: 767px) {
  .u-dialog-section-4 .u-dialog-1 {
    width: 540px;
  }
}

@media (max-width: 575px) {
  .u-dialog-section-4 .u-dialog-1 {
    width: 340px;
  }

  .u-dialog-section-4 .u-container-layout-1 {
    padding-left: 20px;
    padding-right: 20px;
  }

  .u-dialog-section-4 .u-text-1 {
    margin-right: 5px;
  }

  .u-dialog-section-4 .u-icon-1 {
    right: 20px;
  }
}</style>
</body></html>